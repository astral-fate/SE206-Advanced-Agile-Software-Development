 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SE206 - Unit 1: Introduction to Agile Development</title>
    <style>
        /* Paste the CSS from the SE205 unit1.html example here */
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 30px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        h1, h2, h3 {
            color: #0056b3; /* Cairo University Blue */
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 15px;
        }

        h2 {
            margin-top: 20px; /* Reduced top margin for sections */
            margin-bottom: 20px;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 10px;
        }

        h3 {
            margin-top: 25px;
            margin-bottom: 15px;
            color: #007bff; /* Lighter Blue */
        }
         ul {
            list-style-type: disc;
            padding-left: 20px;
            margin-top: 10px;
        }
         li {
             margin-bottom: 8px;
         }
        code {
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            background-color: #e9ecef;
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 0.95em;
        }
        strong {
             color: #dc3545; /* Red emphasis */
        }

        /* Main Tabs Styles */
        .main-tabs {
            display: flex;
            justify-content: space-around; /* Or flex-start, center */
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
            margin-bottom: 25px;
            border-bottom: 2px solid #0056b3;
        }

        .main-tabs .tab-button {
            padding: 12px 20px; /* Adjusted padding slightly */
            border: none;
            background: none;
            color: #0056b3;
            font-size: 0.95em; /* Slightly smaller font */
            font-weight: bold;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
            transition: background-color 0.3s ease, color 0.3s ease;
            margin-bottom: -2px; /* Overlap border */
            border-bottom: 2px solid transparent;
            text-align: center;
        }

        .main-tabs .tab-button.active {
            background: #0056b3;
            color: white;
            border-bottom: 2px solid #0056b3;
        }
        .main-tabs .tab-button:hover:not(.active) {
            background-color: #e9ecef;
            border-bottom: 2px solid #adb5bd;
        }

        /* Content Sections */
        .main-content {
            display: none; /* Hide all main content sections by default */
            animation: fadeIn 0.5s;
        }

        .main-content.active {
            display: block; /* Show only the active one */
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }


        /* --- Accordion Styles (for Glossary) --- */
        .glossary-accordion {
            border: 1px solid #dee2e6;
            border-radius: 5px;
            overflow: hidden; /* Contain borders */
        }

        .accordion-item {
            border-bottom: 1px solid #dee2e6; /* Separator */
        }
        .accordion-item:last-child {
            border-bottom: none;
        }

        .accordion-header {
            background-color: #f8f9fa;
            color: #dc3545; /* Highlight Red for terms */
            cursor: pointer;
            padding: 15px 20px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 1.1em;
            font-weight: bold;
            transition: background-color 0.3s ease;
            position: relative; /* For the indicator */
        }

        .accordion-header:hover {
            background-color: #e9ecef;
        }

        /* Indicator (+/-) */
        .accordion-header::after {
            content: '\002B'; /* + sign */
            color: #0056b3;
            font-weight: bold;
            float: right;
            margin-left: 5px;
            transition: transform 0.2s ease-in-out;
        }

        .accordion-header.active::after {
            content: "\2212"; /* - sign */
            transform: rotate(180deg); /* Optional: animate the sign itself */
        }
        /* Optional: Slightly different style for active header */
        .accordion-header.active {
             background-color: #e7f1ff;
        }


        .accordion-panel {
            padding: 0 20px; /* Start with 0 padding top/bottom */
            background-color: white;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out; /* Smooth transition */
        }
        .accordion-panel p, .accordion-panel ul { /* Apply margin to lists too */
            margin: 15px 0; /* Add margin back when panel is open */
            color: #333; /* Reset color for definition */
        }

        /* --- End Accordion Styles --- */

        /* Concepts Section Styles */
        #concepts .concept-block {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 25px;
        }
         #concepts .concept-block h3 {
            margin-top: 0;
            color: #007bff;
            border-bottom: 1px dotted #ccc;
            padding-bottom: 8px;
            margin-bottom: 15px;
        }

        /* Quiz Styles (apply within #fill, #tf, #mc) */
        .question {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background-color: #ffffff; /* White background for questions */
            position: relative; /* For feedback positioning */
        }

        .question p {
            margin: 0 0 15px;
            font-weight: bold;
            font-size: 1.05em;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-button {
            padding: 10px 15px;
            border: 1px solid #ced4da;
            background: #f8f9fa; /* Light background for options */
            color: #495057;
            cursor: pointer;
            border-radius: 5px;
            text-align: left;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            width: 100%;
        }
        .option-button:hover {
             background-color: #e9ecef;
             border-color: #adb5bd;
        }

        .option-button.selected {
            background: #007bff;
            color: white;
            border-color: #0056b3;
        }

        .check-answer {
            margin-top: 15px;
            padding: 10px 20px;
            border: none;
            background: #28a745; /* Success Green */
            color: white;
            cursor: pointer;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.2s ease;
        }
        .check-answer:hover {
             background-color: #218838;
        }

        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>SE206 - Unit 1: Introduction to Agile Development</h1>

        <!-- Main Tab Buttons -->
        <div class="main-tabs">
            <button class="tab-button active" data-tab="glossary">Glossary</button>
            <button class="tab-button" data-tab="concepts">Key Concepts</button>
            <button class="tab-button" data-tab="fill">Fill in the Blank</button>
            <button class="tab-button" data-tab="tf">True/False</button>
            <button class="tab-button" data-tab="mc">Multiple Choice</button>
        </div>

        <!-- Glossary Section (Accordion) -->
        <section id="glossary" class="main-content active">
            <h2>Glossary of Terms</h2>
            <div class="glossary-accordion">
                <!-- Add terms based on SE206 Unit 1 -->
                 <div class="accordion-item">
                    <button class="accordion-header">Agile Development</button>
                    <div class="accordion-panel">
                        <p>A group of software development methodologies based on iterative and incremental development, where requirements and solutions evolve through collaboration between self-organizing, cross-functional teams.</p>
                    </div>
                </div>
                 <div class="accordion-item">
                    <button class="accordion-header">Agile Manifesto</button>
                    <div class="accordion-panel">
                        <p>A formal proclamation of four key values and 12 principles to guide an iterative and people-centric approach to software development. Values include: Individuals and interactions over processes and tools; Working software over comprehensive documentation; Customer collaboration over contract negotiation; Responding to change over following a plan.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Incremental Development</button>
                    <div class="accordion-panel">
                        <p>A development approach where the software is built and delivered in pieces (increments). Each increment adds more functionality, allowing early feedback and use.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Iterative Development</button>
                    <div class="accordion-panel">
                        <p>A development approach that cycles through development phases (like requirements, design, implementation, testing) multiple times in short durations (iterations), refining the product with each cycle.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Scrum</button>
                    <div class="accordion-panel">
                        <p>An Agile framework for managing complex projects, typically software development. It uses iterative cycles called Sprints and emphasizes collaboration, self-organization, and frequent delivery.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Self-Organizing Team</button>
                    <div class="accordion-panel">
                        <p>A team structure, common in Agile, where the team members collectively decide how best to accomplish their work, rather than being directed by a manager outside the team.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Software Development Life Cycle (SDLC)</button>
                    <div class="accordion-panel">
                        <p>A framework defining tasks performed at each step in the software development process. Common phases include Requirements Analysis, Design, Implementation (Coding), Testing, Deployment, and Maintenance.</p>
                    </div>
                </div>
                 <div class="accordion-item">
                    <button class="accordion-header">Sprint</button>
                    <div class="accordion-panel">
                        <p>(In Scrum) A fixed-length iteration (usually 1-4 weeks) during which a potentially shippable product increment is created.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Traditional Methodologies</button>
                    <div class="accordion-panel">
                        <p>Software development approaches, like the Waterfall model, characterized by sequential phases, extensive upfront planning, and resistance to change once a phase is complete.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Waterfall Model</button>
                    <div class="accordion-panel">
                        <p>A traditional, sequential software development model where progress flows steadily downwards (like a waterfall) through phases like Requirement Gathering, System Analysis, Coding, Testing, Implementation, and Maintenance. It has limited flexibility for changes.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Working Software</button>
                    <div class="accordion-panel">
                        <p>A core principle in Agile, emphasizing the delivery of functional software increments as the primary measure of progress, rather than focusing solely on documentation or phase completion.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <button class="accordion-header">Extreme Programming (XP)</button>
                    <div class="accordion-panel">
                        <p>An Agile software development framework intended to improve software quality and responsiveness to changing customer requirements. It emphasizes specific engineering practices like pair programming, test-driven development, and continuous integration.</p>
                    </div>
                </div>

            </div> <!-- End glossary-accordion -->
        </section>

        <!-- Key Concepts Section -->
        <section id="concepts" class="main-content">
            <h2>Key Concepts from Unit 1</h2>

            <div class="concept-block">
                <h3>Traditional SDLC (Waterfall Model)</h3>
                <p>The Software Development Life Cycle (SDLC) outlines the phases of software creation. The traditional <strong>Waterfall Model</strong> follows a strict sequence:</p>
                <ol>
                    <li>Requirement Gathering</li>
                    <li>System Analysis</li>
                    <li>Design</li>
                    <li>Coding</li>
                    <li>Testing</li>
                    <li>Implementation</li>
                    <li>Operations & Maintenance</li>
                </ol>
                <p>This model is linear and struggles with changes once a phase is complete.</p>
            </div>

             <div class="concept-block">
                <h3>What is Agile Development?</h3>
                <p>Agile is a group of software development processes based on:</p>
                <ul>
                    <li><strong>Iterative:</strong> Development occurs in repeating cycles (iterations).</li>
                    <li><strong>Incremental:</strong> Software is delivered in functional pieces (increments).</li>
                    <li><strong>Self-organizing:</strong> Teams manage their own work to achieve goals.</li>
                </ul>
                <p>It focuses on flexibility, collaboration, and responding to change.</p>
             </div>

             <div class="concept-block">
                <h3>Agile vs. Traditional Methods</h3>
                 <p>A key difference lies in how they handle project constraints:</p>
                 <ul>
                     <li><strong>Traditional (e.g., Waterfall):</strong> Features/Functionality are usually <strong>Fixed</strong> upfront. Time and Resources are flexible (often leading to delays/overruns).</li>
                     <li><strong>Agile:</strong> Time (iterations) and Resources (team size) are often <strong>Fixed</strong>. Functionality is flexible and evolves based on priority and feedback.</li>
                 </ul>
             </div>

            <div class="concept-block">
                <h3>The Agile Manifesto</h3>
                 <p>Defines the core values guiding Agile development:</p>
                 <ul>
                     <li><strong>Individuals and interactions</strong> over processes and tools</li>
                     <li><strong>Working software</strong> over comprehensive documentation</li>
                     <li><strong>Customer collaboration</strong> over contract negotiation</li>
                     <li><strong>Responding to change</strong> over following a plan</li>
                 </ul>
                 <p>While there is value in the items on the right, Agile values the items on the left more.</p>
            </div>

             <div class="concept-block">
                <h3>Agile Principles (Selected)</h3>
                <p>The Agile Manifesto is supported by 12 principles. Some key ones include:</p>
                <ul>
                    <li>Highest priority is to satisfy the customer through <strong>early and continuous delivery</strong> of valuable software.</li>
                    <li><strong>Welcome changing requirements</strong>, even late in development.</li>
                    <li>Deliver <strong>working software frequently</strong> (weeks or months).</li>
                    <li>Business people and developers must <strong>work together daily</strong>.</li>
                    <li>Build projects around <strong>motivated individuals</strong>. Trust them to get the job done.</li>
                    <li><strong>Face-to-face conversation</strong> is the most efficient and effective method of conveying information.</li>
                    <li><strong>Working software</strong> is the primary measure of progress.</li>
                    <li>Agile processes promote <strong>sustainable development</strong>. Sponsors, developers, and users should maintain a constant pace indefinitely.</li>
                    <li><strong>Simplicity</strong>—the art of maximizing the amount of work not done—is essential.</li>
                    <li>The best architectures, requirements, and designs emerge from <strong>self-organizing teams</strong>.</li>
                 </ul>
            </div>

             <div class="concept-block">
                <h3>Agile Characteristics</h3>
                <p>Key characteristics of Agile development processes:</p>
                <ul>
                    <li><strong>Modularity:</strong> Process is broken down into manageable parts.</li>
                    <li><strong>Iterative:</strong> Short cycles enable fast verification and correction.</li>
                    <li><strong>Time-bound:</strong> Iterations typically last one to six weeks.</li>
                    <li><strong>Adaptive:</strong> Able to handle emergent risks and changing requirements.</li>
                    <li><strong>People-oriented:</strong> Focuses on individuals, motivation, and collaboration.</li>
                    <li><strong>Collaborative:</strong> Emphasizes communication and teamwork.</li>
                 </ul>
            </div>

            <div class="concept-block">
                <h3>Advantages of Agile</h3>
                 <ul>
                     <li><strong>Early Realization:</strong> Incremental nature allows benefits to be realized early.</li>
                     <li><strong>Visibility & Early Issue Identification:</strong> Small incremental releases are visible, helping identify issues early.</li>
                     <li><strong>Adaptability:</strong> Easier to respond to changes in requirements or the market.</li>
                     <li><strong>Customer Satisfaction:</strong> Focus on frequent delivery and collaboration leads to higher satisfaction.</li>
                     <li><strong>Producing the Right Product:</strong> Continuous feedback helps ensure the product meets user needs.</li>
                 </ul>
            </div>

            <div class="concept-block">
                <h3>Overview of Agile Methodologies</h3>
                <p>Agile is an umbrella term. Specific methodologies include:</p>
                <ul>
                    <li>Extreme Programming (XP)</li>
                    <li>Scrum</li>
                    <li>Dynamic Systems Development Method (DSDM)</li>
                    <li>Feature Driven Development (FDD)</li>
                    <li>Crystal Method</li>
                    <li>Adaptive Software Development (ASD)</li>
                    <li>Unified Process (UP) / Agile UP</li>
                    <li>Lean Software Development (LSD)</li>
                </ul>
                <p>These methods promote development, teamwork, collaboration, and adaptability.</p>
             </div>

        </section>

        <!-- Quiz Sections -->
        <div id="fill" class="main-content">
            <h2>Fill in the Blank Questions</h2>
            <div id="fill-questions"></div>
        </div>

        <div id="tf" class="main-content">
            <h2>True/False Questions</h2>
            <div id="tf-questions"></div>
        </div>

        <div id="mc" class="main-content">
            <h2>Multiple Choice Questions</h2>
            <div id="mc-questions"></div>
        </div>

    </div> <!-- End Container -->

    <script>
        // --- START OF QUIZ DATA (SE206 UNIT 1) ---
        const fillInTheBlank = [
            { question: "The traditional software development model characterized by sequential phases is called the _______ model.", options: ["Agile", "Spiral", "Waterfall", "Iterative"], answer: "Waterfall" },
            { question: "Agile development processes are described as Iterative, Incremental, and ______-organizing.", options: ["Self", "Manager", "Customer", "Process"], answer: "Self" },
            { question: "The Agile Manifesto values 'Individuals and interactions' over '_______ and tools'.", options: ["Documentation", "Contracts", "Processes", "Plans"], answer: "Processes" },
            { question: "In Agile, _______ software is the primary measure of progress.", options: ["Documented", "Planned", "Working", "Tested"], answer: "Working" },
            { question: "Agile principle suggests that business people and developers must work together _______.", options: ["Weekly", "Monthly", "Daily", "Occasionally"], answer: "Daily" },
            { question: "In the comparison of Agile vs Traditional, Agile typically fixes Time and Resources, while _______ is flexible.", options: ["Budget", "Team Size", "Functionality", "Tools"], answer: "Functionality" },
            { question: "The Agile principle of _______ involves maximizing the amount of work not done.", options: ["Collaboration", "Simplicity", "Feedback", "Sustainability"], answer: "Simplicity" },
            { question: "Development cycles in Agile, typically lasting 1-6 weeks, are known as _______.", options: ["Phases", "Sprints", "Iterations", "Releases"], answer: "Iterations" } // Iterations is general, Sprints specific to Scrum
        ];

        const trueOrFalse = [
            { question: "The Waterfall model is known for its flexibility in handling changing requirements mid-project.", answer: false },
            { question: "Agile methodologies emphasize comprehensive documentation as the most important deliverable.", answer: false }, // Values working software over it
            { question: "Agile development is purely iterative and not incremental.", answer: false }, // It's both
            { question: "The Agile Manifesto prioritizes following a plan over responding to change.", answer: false }, // Prioritizes responding to change
            { question: "Self-organizing teams are a key characteristic of Agile development.", answer: true },
            { question: "Agile development aims to deliver working software only at the very end of the project.", answer: false }, // Delivers frequently
            { question: "Face-to-face conversation is considered the most effective form of communication within an Agile team.", answer: true },
            { question: "Traditional methods typically fix the scope (functionality) early in the project.", answer: true },
            { question: "Agile processes promote unsustainable development paces to finish quickly.", answer: false }, // Promote sustainable pace
            { question: "Scrum and XP are examples of specific Agile methodologies.", answer: true }
        ];

        const multipleChoice = [
            { question: "Which of these is NOT one of the four values of the Agile Manifesto?", options: ["Working software over comprehensive documentation", "Individuals and interactions over processes and tools", "Following a plan over responding to change", "Customer collaboration over contract negotiation"], answer: "Following a plan over responding to change" },
            { question: "Which term best describes the Agile characteristic of breaking work into short, repeatable cycles?", options: ["Incremental", "Iterative", "Adaptive", "Collaborative"], answer: "Iterative" },
            { question: "What is the primary measure of progress in Agile development?", options: ["Completed documentation", "Hours spent", "Working software", "Approved phases"], answer: "Working software" },
            { question: "Compared to Traditional methods, Agile methods typically treat which factor as more flexible?", options: ["Time", "Cost/Resources", "Scope/Functionality", "Team size"], answer: "Scope/Functionality" },
            { question: "Which Agile principle emphasizes 'maximizing the amount of work not done'?", options: ["Customer Satisfaction", "Simplicity", "Sustainable Pace", "Motivated Individuals"], answer: "Simplicity" },
            { question: "Which development model involves sequential phases like Requirements, Design, Coding, Testing?", options: ["Agile Model", "Waterfall Model", "Spiral Model", "Iterative Model"], answer: "Waterfall Model" },
            { question: "Which of the following is listed as an advantage of Agile?", options: ["Extensive upfront planning", "Resistance to change", "Early realization of value", "Less need for customer interaction"], answer: "Early realization of value" },
            { question: "Agile teams that determine their own way of working are described as:", options: ["Manager-led", "Process-driven", "Self-organizing", "Customer-directed"], answer: "Self-organizing" },
            { question: "Frequent delivery of working software in Agile typically occurs on a timescale of:", options: ["Couple of years", "Couple of quarters", "Couple of weeks to a couple of months", "Only at project completion"], answer: "Couple of weeks to a couple of months" },
            { question: "XP, Scrum, and DSDM are all examples of:", options: ["Traditional Methodologies", "Agile Methodologies", "Waterfall Phases", "Project Management Tools"], answer: "Agile Methodologies" }
        ];
        // --- END OF QUIZ DATA ---

        // --- START OF SCRIPT LOGIC (PASTE FROM PREVIOUS EXAMPLE) ---
        document.addEventListener('DOMContentLoaded', () => {
            // Select main tabs and content sections
            const mainTabButtons = document.querySelectorAll('.main-tabs .tab-button');
            const mainTabContents = document.querySelectorAll('.main-content');

            // Select quiz content containers
            const fillContainer = document.getElementById('fill-questions');
            const tfContainer = document.getElementById('tf-questions');
            const mcContainer = document.getElementById('mc-questions');

             // Select accordion elements
            const accordionHeaders = document.querySelectorAll('.accordion-header');


            // --- Main Tab Switching Logic ---
            mainTabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.getAttribute('data-tab'); // Get the ID of the target content

                    // Deactivate all main buttons and content
                    mainTabButtons.forEach(btn => btn.classList.remove('active'));
                    mainTabContents.forEach(content => content.classList.remove('active'));

                    // Activate the clicked button
                    button.classList.add('active');

                    // Activate the corresponding content section
                    const targetContent = document.getElementById(tabId);
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }
                });
            });

            // --- Accordion Logic (for Glossary) ---
             accordionHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    // Toggle active class on the header for styling (+) (-) sign
                    this.classList.toggle('active');

                    // Get the panel sibling
                    const panel = this.nextElementSibling;

                    // Toggle the max-height for smooth transition
                    if (panel.style.maxHeight) {
                        // If panel is open, close it
                        panel.style.maxHeight = null;
                        panel.style.padding = "0 20px"; // Remove padding when closing
                    } else {
                         // If panel is closed, open it
                        panel.style.maxHeight = panel.scrollHeight + 40 + "px"; // Add some buffer
                        panel.style.padding = "15px 20px"; // Add padding back when opening
                    }

                    // --- Optional: Close other accordions ---
                    accordionHeaders.forEach(otherHeader => {
                        if (otherHeader !== this && otherHeader.classList.contains('active')) {
                            otherHeader.classList.remove('active');
                            otherHeader.nextElementSibling.style.maxHeight = null;
                            otherHeader.nextElementSibling.style.padding = "0 20px";
                        }
                    });
                    // --- End Optional Close Others ---
                });
            });


            // --- Function to handle option selection within a question ---
            function handleOptionSelection(button, questionDiv) {
                // Deselect siblings within the same question
                const siblings = questionDiv.querySelectorAll('.option-button.selected');
                siblings.forEach(sib => sib.classList.remove('selected'));
                // Select clicked button
                button.classList.add('selected');
                 // Clear previous feedback when a new option is selected
                const existingFeedback = questionDiv.querySelector('.feedback');
                if (existingFeedback) {
                    existingFeedback.remove();
                }
            }

            // --- Function to create and append feedback ---
            function showFeedback(questionDiv, isCorrect, correctAnswer) {
                 // Remove existing feedback first
                const existingFeedback = questionDiv.querySelector('.feedback');
                if (existingFeedback) {
                    existingFeedback.remove();
                }

                const feedback = document.createElement('div');
                feedback.className = 'feedback';
                if (isCorrect) {
                    feedback.classList.add('correct');
                    feedback.textContent = 'Correct!';
                } else {
                    feedback.classList.add('incorrect');
                     // For T/F, explicitly show the boolean value
                     let displayAnswer = correctAnswer;
                     if (typeof correctAnswer === 'boolean') {
                         displayAnswer = correctAnswer ? 'True' : 'False';
                     }
                    feedback.textContent = `Incorrect. Correct answer: ${displayAnswer}`;
                }
                // Append feedback after the check button
                const checkButton = questionDiv.querySelector('.check-answer');
                 if (checkButton) {
                    // Insert after the check button if it exists
                    checkButton.parentNode.insertBefore(feedback, checkButton.nextSibling);
                } else {
                     // Otherwise, append to the end of the question div
                     questionDiv.appendChild(feedback);
                }
            }

            // --- Load Fill in the Blank Questions ---
            function loadFillInTheBlankQuestions() {
                fillContainer.innerHTML = ''; // Clear previous content
                fillInTheBlank.forEach((q, index) => { // Added index for unique IDs if needed
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'question';
                    questionDiv.id = `fill-q-${index}`;

                    const questionText = document.createElement('p');
                    // Find the blank spot indicated by _______ and replace it for display
                    questionText.innerHTML = q.question.replace('_______', '<span style="color: #007bff; font-weight:bold;">_______</span>');
                    questionDiv.appendChild(questionText);

                    const optionsDiv = document.createElement('div');
                    optionsDiv.className = 'options';

                    // Shuffle options for variety (optional)
                    const shuffledOptions = [...q.options].sort(() => Math.random() - 0.5);


                    shuffledOptions.forEach(option => { // Use shuffled options
                        const optionButton = document.createElement('button');
                        optionButton.className = 'option-button';
                        optionButton.textContent = option;
                        optionButton.addEventListener('click', () => handleOptionSelection(optionButton, questionDiv));
                        optionsDiv.appendChild(optionButton);
                    });
                    questionDiv.appendChild(optionsDiv);

                    const checkButton = document.createElement('button');
                    checkButton.className = 'check-answer';
                    checkButton.textContent = 'Check Answer';
                    checkButton.addEventListener('click', () => {
                        const selected = questionDiv.querySelector('.option-button.selected');
                        if (selected) {
                            showFeedback(questionDiv, selected.textContent === q.answer, q.answer);
                        } else {
                             // Optionally show feedback that an answer must be selected
                             showFeedback(questionDiv, false, q.answer); // Or provide specific feedback
                        }
                    });
                    questionDiv.appendChild(checkButton);

                    fillContainer.appendChild(questionDiv);
                });
            }


            // --- Load True/False Questions ---
            function loadTrueFalseQuestions() {
                tfContainer.innerHTML = ''; // Clear previous content
                trueOrFalse.forEach((q, index) => { // Added index
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'question';
                    questionDiv.id = `tf-q-${index}`;

                    const questionText = document.createElement('p');
                    questionText.textContent = q.question;
                    questionDiv.appendChild(questionText);

                     const optionsDiv = document.createElement('div'); // Keep consistent structure
                    optionsDiv.className = 'options';

                    const trueButton = document.createElement('button');
                    trueButton.className = 'option-button';
                    trueButton.textContent = 'True';
                    trueButton.addEventListener('click', () => handleOptionSelection(trueButton, questionDiv));
                    optionsDiv.appendChild(trueButton);

                    const falseButton = document.createElement('button');
                    falseButton.className = 'option-button';
                    falseButton.textContent = 'False';
                    falseButton.addEventListener('click', () => handleOptionSelection(falseButton, questionDiv));
                    optionsDiv.appendChild(falseButton);

                    questionDiv.appendChild(optionsDiv);

                    const checkButton = document.createElement('button');
                    checkButton.className = 'check-answer';
                    checkButton.textContent = 'Check Answer';
                    checkButton.addEventListener('click', () => {
                        const selected = questionDiv.querySelector('.option-button.selected');
                        if (selected) {
                            // Check boolean answer correctly
                            const isCorrect = (selected.textContent === 'True' && q.answer === true) || (selected.textContent === 'False' && q.answer === false);
                            showFeedback(questionDiv, isCorrect, q.answer); // Pass boolean directly
                        } else {
                            showFeedback(questionDiv, false, q.answer); // Pass boolean directly
                        }
                    });
                    questionDiv.appendChild(checkButton);

                    tfContainer.appendChild(questionDiv);
                });
            }

            // --- Load Multiple Choice Questions ---
            function loadMultipleChoiceQuestions() {
                mcContainer.innerHTML = ''; // Clear previous content
                multipleChoice.forEach((q, index) => { // Added index
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'question';
                    questionDiv.id = `mc-q-${index}`;

                    const questionText = document.createElement('p');
                    questionText.textContent = q.question;
                    questionDiv.appendChild(questionText);

                    const optionsDiv = document.createElement('div');
                    optionsDiv.className = 'options';

                    // Shuffle options for variety (optional)
                    const shuffledOptions = [...q.options].sort(() => Math.random() - 0.5);

                    shuffledOptions.forEach(option => { // Use shuffled options
                        const optionButton = document.createElement('button');
                        optionButton.className = 'option-button';
                        optionButton.textContent = option;
                        optionButton.addEventListener('click', () => handleOptionSelection(optionButton, questionDiv));
                        optionsDiv.appendChild(optionButton);
                    });
                    questionDiv.appendChild(optionsDiv);

                    const checkButton = document.createElement('button');
                    checkButton.className = 'check-answer';
                    checkButton.textContent = 'Check Answer';
                    checkButton.addEventListener('click', () => {
                        const selected = questionDiv.querySelector('.option-button.selected');
                        if (selected) {
                            showFeedback(questionDiv, selected.textContent === q.answer, q.answer);
                        } else {
                             showFeedback(questionDiv, false, q.answer);
                        }
                    });
                    questionDiv.appendChild(checkButton);

                    mcContainer.appendChild(questionDiv);
                });
            }

            // --- Initial Load ---
            // Load all quiz questions initially so they are ready when tabs are clicked
            loadFillInTheBlankQuestions();
            loadTrueFalseQuestions();
            loadMultipleChoiceQuestions();


        }); // End DOMContentLoaded
        // --- END OF SCRIPT LOGIC ---
    </script>
</body>
</html>
